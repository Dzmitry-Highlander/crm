CREATE TABLE crm.location (
    id bigserial,
    name text,
    PRIMARY KEY (id)
);

CREATE TABLE crm.department (
    id bigserial,
    name text,
    phone text,
    location_id int8,
    PRIMARY KEY (id),
    PRIMARY KEY (location_id) REFERENCES crm.location(id)
);

CREATE TABLE crm.department_relations (
    child_id int8 NOT NULL,
    parent_id int8 NOT NULL,
    FOREIGN KEY (child_id) REFERENCES crm.department(id),
    FOREIGN KEY (parent_id) REFERENCES crm.department(id)
);